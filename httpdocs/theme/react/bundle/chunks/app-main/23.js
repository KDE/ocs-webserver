(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[23],{

/***/ "./layout/product-view-layout.js":
/*!***************************************!*\
  !*** ./layout/product-view-layout.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_context_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context/context-provider */ \"./layout/context/context-provider.js\");\n/* harmony import */ var _modules_product_view_app_context_context_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/product-view/app/context/context-provider */ \"./modules/product-view/app/context/context-provider.js\");\n/* harmony import */ var _app_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-helpers */ \"./layout/app-helpers.js\");\n/* harmony import */ var _modules_right_sidebar_app_right_sidebar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/right-sidebar/app/right-sidebar */ \"./modules/right-sidebar/app/right-sidebar.js\");\n/* harmony import */ var _modules_product_view_app_dummy_product_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/product-view/app/dummy-product-view */ \"./modules/product-view/app/dummy-product-view.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\nvar ProductView = /*#__PURE__*/Object(react__WEBPACK_IMPORTED_MODULE_0__[\"lazy\"])(function () {\n  return Promise.all(/*! import() */[__webpack_require__.e(0), __webpack_require__.e(1), __webpack_require__.e(5), __webpack_require__.e(13), __webpack_require__.e(2), __webpack_require__.e(6), __webpack_require__.e(9)]).then(__webpack_require__.bind(null, /*! ../modules/product-view/app/product-view */ \"./modules/product-view/app/product-view.js\"));\n});\n\nfunction ProductViewLayoutComponent(props) {\n  var xhr;\n\n  var _useContext = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_context_context_provider__WEBPACK_IMPORTED_MODULE_1__[\"AppContext\"]),\n      appState = _useContext.appState,\n      appDispatch = _useContext.appDispatch;\n\n  var _useContext2 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_modules_product_view_app_context_context_provider__WEBPACK_IMPORTED_MODULE_2__[\"Context\"]),\n      productViewState = _useContext2.productViewState,\n      productViewDispatch = _useContext2.productViewDispatch;\n\n  var previousId = Object(_app_helpers__WEBPACK_IMPORTED_MODULE_3__[\"usePrevious\"])(appState.id);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    initProductViewLayout();\n    return function () {\n      if (xhr && xhr.abort) xhr.abort();\n    };\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (appState.isBack !== true && appState.isForward !== true && productViewState.product) {\n      appDispatch({\n        type: 'SET_VIEW_DATA',\n        viewData: productViewState,\n        url: appState.url\n      });\n    }\n  }, [productViewState]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (previousId && appState.id !== previousId) {\n      productViewDispatch({\n        type: 'SET_LOADING'\n      });\n      productViewDispatch({\n        type: 'RESET_STATE'\n      });\n      setTimeout(function () {\n        initProductViewLayout();\n      }, 1);\n    }\n  }, [appState.id]);\n\n  function initProductViewLayout() {\n    var readyData = null;\n    if (appState.viewData && appState.viewData !== null) readyData = appState.viewData;else if (window.productViewData) readyData = window.productViewData;\n\n    if (appState.resetLayout === true) {\n      if (readyData && parseInt(readyData.product.project_id) === parseInt(appState.id)) setReadydata(readyData);else getProductViewData();\n    } else {\n      if (readyData && parseInt(readyData.product.project_id) === parseInt(appState.id)) setReadydata(readyData);else getProductViewData();\n    }\n  }\n\n  function setReadydata(readyData) {\n    productViewDispatch({\n      type: 'SET_LOADED',\n      value: true\n    });\n    productViewDispatch({\n      type: 'SET_DATA',\n      data: readyData\n    });\n    appDispatch({\n      type: 'FINISH_LOADING_VIEW'\n    }); // if (!appState.categoryId || appState.categoryId === 0) appDispatch({type:'SET_CATEGORIES',categoryId:parseInt(readyData.product.project_category_id)})\n  }\n\n  function getProductViewData() {\n    productViewDispatch({\n      type: 'SET_LOADED',\n      value: false\n    });\n    xhr = $.ajax({\n      url: '/p2/' + appState.id + '?json=1'\n    }).done(function (res) {\n      productViewDispatch({\n        type: 'SET_DATA',\n        data: res\n      });\n      appDispatch({\n        type: 'SET_CATEGORIES',\n        categories: res.categories,\n        categoryId: parseInt(res.product.project_category_id)\n      });\n      appDispatch({\n        type: 'FINISH_LOADING_VIEW'\n      });\n    });\n  }\n\n  var rightSideBarDisplay;\n\n  if (productViewState.loaded === true && productViewState.loading === false) {\n    var rightSideBarFiles = [];\n    if (productViewState.filesTab) rightSideBarFiles = productViewState.filesTab.filter(function (file) {\n      return file.active === \"1\";\n    });\n    rightSideBarDisplay = /*#__PURE__*/React.createElement(_modules_right_sidebar_app_right_sidebar__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      onChangeUrl: props.onChangeUrl,\n      dataRightSideBar: productViewState.rightsidebar,\n      user: productViewState.authMember,\n      files: rightSideBarFiles,\n      product: productViewState.product,\n      view: \"product-view\",\n      id: appState.id\n    });\n  }\n\n  var rightSideBarCssStyle = {\n    minHeight: \"800px\",\n    padding: productViewState.loaded === false ? \"0\" : \"10px 15px 10px 0\"\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8 col-md-8 col-sm-8 col-xs-12\",\n    id: \"product-main\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"product-view-container\"\n  }, /*#__PURE__*/React.createElement(react__WEBPACK_IMPORTED_MODULE_0__[\"Suspense\"], {\n    fallback: /*#__PURE__*/React.createElement(_modules_product_view_app_dummy_product_view__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null)\n  }, /*#__PURE__*/React.createElement(ProductView, _extends({}, props, {\n    resetLayout: appState.resetLayout\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-2 col-md-2 col-sm-12 col-xs-12 flex-right\",\n    id: \"product-maker\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: rightSideBarCssStyle,\n    id: \"right-sidebar-container\",\n    className: \"project-share-new col-lg-12 col-md-12 col-sm-12 col-xs-12 \" + (productViewState.loaded === false ? \"dummy-fill dummy-fill-to-white\" : \"\")\n  }, rightSideBarDisplay)));\n}\n\nfunction ProductViewLayout(props) {\n  return /*#__PURE__*/React.createElement(_modules_product_view_app_context_context_provider__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null, /*#__PURE__*/React.createElement(ProductViewLayoutComponent, props));\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductViewLayout);\n\n//# sourceURL=webpack:///./layout/product-view-layout.js?");

/***/ }),

/***/ "./modules/product-view/app/context/context-provider.js":
/*!**************************************************************!*\
  !*** ./modules/product-view/app/context/context-provider.js ***!
  \**************************************************************/
/*! exports provided: Context, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Context\", function() { return Context; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _product_view_reducer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./product-view-reducer.js */ \"./modules/product-view/app/context/product-view-reducer.js\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\nvar Context = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext();\nvar Provider = Context.Provider;\n\nvar StoreContextProvider = function StoreContextProvider(props) {\n  var _React$useReducer = react__WEBPACK_IMPORTED_MODULE_0___default.a.useReducer(_product_view_reducer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _product_view_reducer_js__WEBPACK_IMPORTED_MODULE_1__[\"ProductViewReducerInitialState\"]),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      productViewState = _React$useReducer2[0],\n      productViewDispatch = _React$useReducer2[1];\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Provider, _extends({}, props, {\n    value: {\n      productViewState: productViewState,\n      productViewDispatch: productViewDispatch\n    }\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (StoreContextProvider);\n\n//# sourceURL=webpack:///./modules/product-view/app/context/context-provider.js?");

/***/ }),

/***/ "./modules/product-view/app/context/product-view-reducer.js":
/*!******************************************************************!*\
  !*** ./modules/product-view/app/context/product-view-reducer.js ***!
  \******************************************************************/
/*! exports provided: ProductViewReducerInitialState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProductViewReducerInitialState\", function() { return ProductViewReducerInitialState; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ProductViewReducerInitialState = {\n  loading: true,\n  product: null,\n  changelogs: null,\n  ratings: null,\n  plings: null,\n  affiliates: null,\n  likes: null,\n  comments: null,\n  ratingOfUser: null,\n  watchComments: false,\n  loaded: null,\n  isCollectionView: false\n};\n\nfunction ProductViewReducer(state, action) {\n  switch (action.type) {\n    case 'SET_DATA':\n      {\n        var isCollectionView = false;\n        if (action.data.collection_projects) isCollectionView = true;\n        return _objectSpread(_objectSpread(_objectSpread({}, state), action.data), {}, {\n          product: action.data.product,\n          loading: false,\n          loaded: true,\n          isCollectionView: isCollectionView\n        });\n      }\n\n    case 'SET_FILES':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          files: action.files\n        });\n      }\n\n    case 'SET_CHANGELOGS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          changelogs: action.changelogs\n        });\n      }\n\n    case 'SET_RATINGS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          ratings: action.ratings\n        });\n      }\n\n    case 'SET_PLINGS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          plings: action.plings\n        });\n      }\n\n    case 'SET_AFFILIATES':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          affiliates: action.affiliates\n        });\n      }\n\n    case 'SET_LIKES':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          likes: action.likes\n        });\n      }\n\n    case 'SET_COMMENTS':\n      {\n        var commentsPage = 1;\n        if (action.page) commentsPage = action.page;\n\n        if (state.watchComments === true) {\n          var newRatingsofUser = _objectSpread(_objectSpread({}, action.comments[0].comment), {}, {\n            score: action.comments[0].comment.rating\n          });\n\n          return _objectSpread(_objectSpread({}, state), {}, {\n            commentsTab: action.comments,\n            commentsTabPage: commentsPage,\n            ratingOfUser: newRatingsofUser,\n            watchComments: false\n          });\n        } else {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            commentsTab: action.comments,\n            commentsTabPage: commentsPage\n          });\n        }\n      }\n\n    case 'INCREMENT_COMMENT_COUNT':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          commentsTabCnt: state.commentsTabCnt + 1\n        });\n      }\n\n    case 'WATCH_COMMENTS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          watchComments: true\n        });\n      }\n\n    case 'SET_USER_RATINGS':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          ratingOfUser: action.userRatings\n        });\n      }\n\n    case 'SET_PRODUCT_IS_DEPRECATED':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          isProductDeprecatedModerator: action.value\n        });\n      }\n\n    case 'SET_LOADING':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: true\n        });\n      }\n\n    case 'SET_LOADED':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loaded: action.value\n        });\n      }\n\n    case 'FINISH_LOADING_PRODUCT':\n      {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          loading: false,\n          loaded: true\n        });\n      }\n\n    case 'RESET_STATE':\n      {\n        return {\n          loading: true,\n          product: null,\n          changelogs: null,\n          ratings: null,\n          plings: null,\n          affiliates: null,\n          likes: null,\n          comments: null,\n          ratingOfUser: null,\n          watchComments: false,\n          loaded: false\n        };\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductViewReducer);\n\n//# sourceURL=webpack:///./modules/product-view/app/context/product-view-reducer.js?");

/***/ })

}]);